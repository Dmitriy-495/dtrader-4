## üìä –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

### ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ (9/10 –∑–∞–¥–∞—á)

1. ‚úÖ **StateManager –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** - –ì–û–¢–û–í–û
2. ‚úÖ **API retry –ª–æ–≥–∏–∫–∞** - –ì–û–¢–û–í–û
3. ‚úÖ **WebSocket reconnect** - –ì–û–¢–û–í–û
4. ‚úÖ **Rate limiting** - –ì–û–¢–û–í–û
5. ‚úÖ **WS-Server –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –ì–û–¢–û–í–û (—Å —Ç–æ–∫–µ–Ω–∞–º–∏)
6. ‚úÖ **Graceful shutdown** - –ì–û–¢–û–í–û
7. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –û–¢–õ–ò–ß–ù–û
8. ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ì–û–¢–û–í–û (–≤ —Ñ–∞–π–ª—ã)
9. ‚úÖ **Health checks** - –ì–û–¢–û–í–û

### üî¥ –ß—Ç–æ —Ç–æ–ª—å–∫–æ —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

1. ‚úÖ **BalanceChecker** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø–µ—Ä–µ–¥ –æ—Ä–¥–µ—Ä–∞–º–∏

2. ‚úÖ **RiskManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏

3. ‚úÖ **Order Book –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ InstanceSystem

   # üìã –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ DTrader-4

   ## üü° –í–ê–ñ–ù–´–ï (–Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)

   ### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

   **–°—Ç–∞—Ç—É—Å:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
    **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
    **–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞

   –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

   - Prometheus –º–µ—Ç—Ä–∏–∫–∏
   - Grafana –¥–∞—à–±–æ—Ä–¥—ã
   - Alerting –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π

   **–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**

   ```
   bot/src/monitoring/MetricsCollector.ts
   bot/src/monitoring/PrometheusExporter.ts
   grafana/dashboards/trading-bot.json
   ```

   ### 2. Unit —Ç–µ—Å—Ç—ã

   **–°—Ç–∞—Ç—É—Å:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
    **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
    **–í—Ä–µ–º—è:** 4-5 —á–∞—Å–æ–≤

   –ù—É–∂–Ω–æ –ø–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏:

   - StateManager
   - BalanceChecker
   - RiskManager
   - GateIOBalance (—Å –º–æ–∫–∞–º–∏ API)

   **–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**

   ```
   bot/tests/StateManager.test.ts
   bot/tests/BalanceChecker.test.ts
   trader/tests/RiskManager.test.ts
   ```

   ### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä

   **–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ —Å–¥–µ–ª–∞–Ω–æ
    **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
    **–í—Ä–µ–º—è:** 30 –º–∏–Ω—É—Ç

   –í `.env` –¥–æ–±–∞–≤–∏—Ç—å:

   ```bash
   # Trading pairs for Order Book
   TRADING_PAIRS=BTC_USDT,ETH_USDT,BNB_USDT
   ORDERBOOK_DEPTH=20
   ORDERBOOK_UPDATE_SPEED=100ms
   ```

   ### 4. Logging rotation

   **–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å—Ç—å
    **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π
    **–í—Ä–µ–º—è:** 1 —á–∞—Å

   –î–æ–±–∞–≤–∏—Ç—å Winston —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã –¥–ª—è:

   - –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (daily/size)
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º (error.log, combined.log)
   - Structured logging (JSON format)

   ------

   ## üü¢ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï (nice to have)

   ### 5. Backtesting —Å–∏—Å—Ç–µ–º–∞

   –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

   ### 6. Web Dashboard

   React-–¥–∞—à–±–æ—Ä–¥ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –±–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

   ### 7. Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

   –û—Ç–ø—Ä–∞–≤–∫–∞ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ Telegram (–∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞, –æ—à–∏–±–∫–∏).

   ------

   ## üìà –ü—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞

   **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Production: 85%** üéØ

   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: ‚úÖ 10/10
   - –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: ‚úÖ 9/10
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: ‚úÖ 8/10
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: ‚ö†Ô∏è 3/10
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚ö†Ô∏è 2/10

   ------

   ## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

   ### –°–µ–π—á–∞—Å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ Production —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:

   1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ–±–æ–ª—å—à–∏–µ —Å—É–º–º—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

   2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ RiskManager –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ:

      ```typescript
      maxPositionSize: 0.05,  // 5% –±–∞–ª–∞–Ω—Å–∞maxOrderSize: 100,      // 100 USDTmaxDailyLoss: 50,       // 50 USDT
      ```

   3. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é

   4. ‚ö†Ô∏è –î–æ–±–∞–≤—å—Ç–µ Telegram alerts –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π

   ### –ü–µ—Ä–µ–¥ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º Production:

   1. –î–æ–±–∞–≤–∏—Ç—å Prometheus –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   2. –ù–∞–ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–µ unit —Ç–µ—Å—Ç—ã
   3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å log rotation
   4. –ü—Ä–æ–≤–µ—Å—Ç–∏ load testing WebSocket —Å–µ—Ä–≤–µ—Ä–∞

   ------

   ## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

   **–í–∞—à –ø—Ä–æ–µ–∫—Ç –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏!**

   –û—Å–Ω–æ–≤–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ:

   - ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å Redis
   - ‚úÖ –£—Å—Ç–æ–π—á–∏–≤—ã–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∏ Risk Management
   - ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
   - ‚úÖ Order Book –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
   - ‚úÖ Graceful shutdown

   –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ —Å—É–º–º–∞–º–∏.

   # üéØ –û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ endpoints

   –î–∞, —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥! –î–∞–≤–∞–π –≤—ã–Ω–µ—Å–µ–º –≤—Å—é API –ª–æ–≥–∏–∫—É –≤ `endpoints/` –∏ —Å–¥–µ–ª–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ —á–∏—â–µ.

   ## üìä –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ vs –¶–µ–ª–µ–≤–∞—è

   **–°–µ–π—á–∞—Å:**

   ```
   bot/src/
   ‚îú‚îÄ‚îÄ app.ts (HTTP endpoints –≤–Ω—É—Ç—Ä–∏) ‚ùå
   ‚îú‚îÄ‚îÄ exchanges/gateio/
   ‚îÇ   ‚îî‚îÄ‚îÄ endpoints/
   ‚îÇ       ‚îî‚îÄ‚îÄ getBalance.ts ‚úÖ (—É–∂–µ –≤—ã–Ω–µ—Å–µ–Ω–æ)
   ```

   **–¶–µ–ª—å:**

   ```
   bot/src/
   ‚îú‚îÄ‚îÄ app.ts (—Ç–æ–ª—å–∫–æ routing) ‚úÖ
   ‚îú‚îÄ‚îÄ exchanges/gateio/
   ‚îÇ   ‚îî‚îÄ‚îÄ endpoints/
   ‚îÇ       ‚îú‚îÄ‚îÄ getBalance.ts ‚úÖ
   ‚îÇ       ‚îú‚îÄ‚îÄ getOrderBook.ts (–Ω–æ–≤—ã–π)
   ‚îÇ       ‚îú‚îÄ‚îÄ getBestBidAsk.ts (–Ω–æ–≤—ã–π)
   ‚îÇ       ‚îî‚îÄ‚îÄ subscribeOrderBook.ts (–Ω–æ–≤—ã–π)
   ```

   ## üöÄ –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ endpoint –º–æ–¥—É–ª–∏

   –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –í—ã–Ω–æ—Å endpoints

   Code 

   \#!/bin/bash echo "üîÑ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –í—ã–Ω–æ—Å API endpoints –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏" # 1. –°–æ–∑–¥–∞–µ–º OrderBook endpoint cat > bot/src/exchanges/gateio/endpoints/getOrderBook.ts << 'EOF' import { getInstanceSystem } from '../../../instances/InstanceSystem'; expo

   ## üéâ –ì–æ—Ç–æ–≤–æ! –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω

   ### ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

   **–î–æ:**

   - `app.ts` - 300+ —Å—Ç—Ä–æ–∫ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π ‚ùå
   - –í—Å—è –ª–æ–≥–∏–∫–∞ endpoints –≤–Ω—É—Ç—Ä–∏ HTTP handlers ‚ùå

   **–ü–æ—Å–ª–µ:**

   - `app.ts` - ~150 —Å—Ç—Ä–æ–∫, —Ç–æ–ª—å–∫–æ routing ‚úÖ
   - `endpoints/` - 4 —á–∏—Å—Ç—ã—Ö –º–æ–¥—É–ª—è —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π ‚úÖ
   - –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å ‚úÖ

   ### üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

   ```
   bot/src/exchanges/gateio/endpoints/
   ‚îú‚îÄ‚îÄ index.ts              # Re-export –≤—Å–µ—Ö
   ‚îú‚îÄ‚îÄ getBalance.ts         # ‚úÖ –£–∂–µ –±—ã–ª
   ‚îú‚îÄ‚îÄ getOrderBook.ts       # ‚úÖ –ù–æ–≤—ã–π
   ‚îú‚îÄ‚îÄ getBestBidAsk.ts      # ‚úÖ –ù–æ–≤—ã–π
   ‚îú‚îÄ‚îÄ subscribeOrderBook.ts # ‚úÖ –ù–æ–≤—ã–π
   ‚îî‚îÄ‚îÄ README.md             # ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   ```

   ### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

   1. **app.ts** —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä
   2. –ö–∞–∂–¥—ã–π endpoint - –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
   3. –õ–µ–≥–∫–æ –ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã
   4. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –∫–æ–¥–∞
   5. –ü—Ä–æ—â–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ endpoints

   **–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π endpoint (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ä–¥–µ—Ä–æ–≤)?** –ò–ª–∏ –ø–µ—Ä–µ–π–¥–µ–º –∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É/—Ç–µ—Å—Ç–∞–º?

   —è –∑–∞–º–µ—Ç–∏–ª, —á—Ç–æ —Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ rest.. –≠—Ç–æ –ª—à–Ω–µ–µ, —Ç.–∫. –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ ws: https://www.gate.com/docs/developers/futures/ws/en/#balances-api

   10:37 AM

   # üéØ –û—Ç–ª–∏—á–Ω–æ –ø–æ–¥–º–µ—á–µ–Ω–æ! WebSocket –ø–æ–¥–ø–∏—Å–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ

   –î–∞, REST polling - —ç—Ç–æ –ª–∏—à–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞. –î–∞–≤–∞–π –ø–µ—Ä–µ–¥–µ–ª–∞–µ–º –Ω–∞ WebSocket –ø–æ–¥–ø–∏—Å–∫—É.

   ## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ WS –ø–æ–¥–ø–∏—Å–∫–∏:

   - ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
   - ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API
   - ‚úÖ –ù–µ—Ç rate limiting –ø—Ä–æ–±–ª–µ–º
   - ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º

   ## üîÑ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ WS –ø–æ–¥–ø–∏—Å–∫—É

   Balance WS –ø–æ–¥–ø–∏—Å–∫–∞ –≤–º–µ—Å—Ç–æ REST polling

   Code 

   \#!/bin/bash echo "üîÑ –ü–µ—Ä–µ—Ö–æ–¥ —Å REST polling –Ω–∞ WebSocket –ø–æ–¥–ø–∏—Å–∫—É –±–∞–ª–∞–Ω—Å–∞" # 1. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π WS –∫–ª–∏–µ–Ω—Ç –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ cat > bot/src/exchanges/gateio/gateio-client/balance-ws-client.ts << 'EOF' const { WebSocket } = require('ws'); import { GateIOWsSig

   ## ‚úÖ –ì–æ—Ç–æ–≤–æ! REST polling –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ WebSocket –ø–æ–¥–ø–∏—Å–∫—É

   ### üìä –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

   **–î–æ:**

   typescript

   ```typescript
   // ‚ùå REST polling –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
   setInterval(async () => {
     const balance = await gateioClient.getSpotBalance();
     await stateManager.setCurrentBalance(balance);
   }, 30000);
   ```

   **–ü–æ—Å–ª–µ:**

   typescript

   ```typescript
   // ‚úÖ WebSocket real-time –ø–æ–¥–ø–∏—Å–∫–∞
   new BalanceWebSocket({
     onBalanceUpdate: async (balances) => {
       await stateManager.setCurrentBalance(balances);
       // –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!
     }
   });
   ```

   ### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

   - ‚ö° **Real-time** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (0 –∑–∞–¥–µ—Ä–∂–∫–∞ vs 30 —Å–µ–∫)
   - üìâ **–ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏**: 1 WS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ vs 120 REST –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å
   - üö´ **–ù–µ—Ç rate limiting**: –Ω–µ —Ç—Ä–∞—Ç–∏–º quota –Ω–∞ polling
   - üíæ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ**: –º–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ CPU/RAM

   ### üìù –¢–µ–ø–µ—Ä—å –±–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:

   - ‚úÖ –ü—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ä–¥–µ—Ä–æ–≤
   - ‚úÖ –ü—Ä–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–∏/–≤—ã–≤–æ–¥–µ
   - ‚úÖ –ü—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –Ω–∞ –±–∏—Ä–∂–µ

   **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ, –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫!** üöÄ